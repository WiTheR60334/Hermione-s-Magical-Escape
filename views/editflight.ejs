<%- include("partials/header"); -%>

<section class="edit-flight-container" style="font-size: 2rem; color:white; margin-top : 100px;">
  <div class="box-container">
    <div class="box">
      <h1>Edit Flight Info</h1>
      <form action="/allflights/<%=foundFlight._id%>/edit" method="post">
        <div class="form-group">
          <label for="flightID">Flight ID</label>
          <input type="text" class="form-control" id="flightID" name="flightID" value="<%=foundFlight.flightID%>" required>
        </div>
        <div class="form-group">
          <label for="departure">Departure</label>
          <input type="text" class="form-control" id="departure" name="departure" value="<%=foundFlight.departure%>" required>
        </div>
        <div class="form-group">
          <label for="arrival">Arrival</label>
          <input type="text" class="form-control" id="arrival" name="arrival" value="<%=foundFlight.arrival%>" required>
        </div>
        <div class="form-group">
          <label for="maxCapacity">Max Capacity</label>
          <input type="number" class="form-control" id="maxCapacity" name="maxCapacity" value="<%=foundFlight.maxCapacity%>" required>
        </div>
        <div class="form-group">
          <label for="updatedPrice">Flight Price</label>
          <input type="number" class="form-control" id="updatedPrice" name="updatedPrice" value="<%=foundFlight.price%>" required>
        </div>
        <h3>Schedule</h3>
        <% foundFlight.schedule.forEach(function(schedule) { %>
          <div class="form-group">
            <label for="departureDate">Departure Date</label>
            <input type="date" class="form-control" id="departureDate" name="departureDate" value="<%=schedule.departureDate.toISOString().split('T')[0]%>" required>
          </div>
          <div class="form-group">
            <label for="departureTime">Departure Time</label>
            <input type="time" class="form-control" id="departureTime" name="departureTime" value="<%=schedule.departureTime%>" required>
          </div>
          <div class="form-group">
            <label for="arrivalDate">Arrival Date</label>
            <input type="date" class="form-control" id="arrivalDate" name="arrivalDate" value="<%=schedule.arrivalDate.toISOString().split('T')[0]%>" required>
          </div>
          <div class="form-group">
            <label for="arrivalTime">Arrival Time</label>
            <input type="time" class="form-control" id="arrivalTime" name="arrivalTime" value="<%=schedule.arrivalTime%>" required>
          </div>
          <div class="form-group">
            <label for="availableSeats">Available Seats</label>
            <input type="number" class="form-control" id="availableSeats" name="availableSeats" value="<%=schedule.availableSeats%>" required>
          </div>
        <% }); %>
        <div class="tp">
          <button type="submit" class="btn btn-primary">Update Flight</button>
        </div>
      </form>
    
    </div>
  </div>
</section>

<%- include("partials/footer"); -%>